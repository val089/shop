{"version":3,"sources":["components/Logo/Logo.js","components/Button/Button.js","components/SubCartItem/SubCartItem.js","components/SubCart/SubCart.js","components/containers/Cart/Cart.js","images/logo.png","components/Header/Header.js","api/index.js","redux/redux.js","components/Book/Book.js","components/BooksList/BooksList.js","components/containers/Books/Books.js","components/CartSummaryItem/CartSummaryItem.js","pages/CartSummary/CartSummary.js","components/Form/Form.js","pages/Summary/Summary.js","App.js","reportWebVitals.js","redux/rootReducer.js","redux/store.js","index.js"],"names":["Logo","image","text","className","src","alt","defaultProps","Button","onClick","label","SubCartItem","price","item","cover_url","title","slice","qty","toFixed","currency","SubCart","data","useState","totalPrice","setTotalPrice","useEffect","map","length","id","to","connect","state","cart","shop","style","display","icon","faShoppingCart","Header","logo","api","axios","create","baseURL","process","REACT_APP_PROXY_API","endpoints","FETCH_BOOKS_REQUESTED","FETCH_BOOKS_SUCCEEDED","FETCH_BOOKS_FAILED","ADD_TO_CART","REMOVE_FROM_CART","ADJUST_QTY","fetchRequested","type","fetchFailed","fetchSucceeded","payload","removeFromCart","itemID","INITIAL_STATE","books","isLoading","isError","shopReducer","action","find","book","inCart","filter","mapDispatchToProps","addToCart","pages","author","BooksList","fetchBooks","dispatch","get","then","catch","error","props","isCartEmpty","setIsCartEmpty","useForm","register","handleSubmit","errors","successInfo","setSuccessInfo","onSubmit","event","first_name","last_name","city","zip_code","post","order","quantity","response","console","log","target","reset","htmlFor","name","ref","required","pattern","App","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","enhancer","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","store","createStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a70de347.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Logo.scss';\r\n\r\nconst Logo = ({ image, text }) => {\r\n    return(\r\n        <div className=\"logo\">\r\n            <img className=\"logo__img\" src={image} alt=\"logo\" />\r\n            <h1 className=\"logo__text\">{text}</h1>\r\n        </div>\r\n    );\r\n};\r\n\r\nLogo.defaultProps = {\r\n    text: 'Logo'\r\n};\r\n\r\nexport default Logo;","import React from 'react';\r\nimport './Button.scss';\r\n\r\nconst Button = ({ onClick, label }) => {\r\n    return(\r\n        <button className=\"button\" onClick={onClick} >{label}</button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n\r\nButton.defaultProps = {\r\n    label: 'Click ;)'\r\n};","import React from 'react';\r\nimport './SubCartItem.scss';\r\n\r\nconst SubCartItem = ({ item }) => {\r\n\r\n    const convertedPrice = (price) => {\r\n        const newPrice = price/100;\r\n        return newPrice.toFixed(2);\r\n    };\r\n\r\n    const MAX_TEXT_LENGTH = 20;\r\n\r\n    return(\r\n        <div className=\"subcart-item\">\r\n            <img className=\"subcart-item__img\" src={item.cover_url} alt=\"book cover\" />\r\n            <h4 className=\"subcart-item__title\">\r\n                {`${item.title.slice(0, MAX_TEXT_LENGTH)}...`}\r\n            </h4>\r\n            <p className=\"subcart-item__quantity\">x {item.qty} </p>\r\n            <p className=\"subcart-item__price\">{convertedPrice(item.price)} {item.currency}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SubCartItem;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './SubCart.scss';\r\nimport Button from '../Button';\r\nimport SubCartItem from '../SubCartItem';\r\n\r\nfunction SubCart({ data }) {\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n    const convertedPrice = (price) => {\r\n        const newPrice = price/100;\r\n        return newPrice.toFixed(2);\r\n    };\r\n\r\n    useEffect(() => {\r\n        let price = 0;\r\n\r\n        data.map(item => {\r\n            return price = price + item.qty * item.price;\r\n        });\r\n\r\n        setTotalPrice(price);\r\n    }, [data, totalPrice, setTotalPrice]);\r\n\r\n    return(\r\n        <div className=\"subcart\">\r\n            <header className=\"subcart__header\">\r\n                <h4 className=\"subcart__title\">Produkty</h4>\r\n            </header>\r\n            <main className=\"subcart__products\">\r\n                {data.length === 0 && <p className=\"subcart__info\">Koszyk jest posty</p>}\r\n                {data.map(item => <SubCartItem key={item.id} item={item} />)}\r\n            </main>\r\n            <footer className=\"subcart__footer\">\r\n                <p className=\"subcart__total\">SUMA: <span className=\"subcart__total-price\">{convertedPrice(totalPrice)}</span> PLN</p>\r\n                <Link to=\"/cart\">\r\n                    <Button label=\"PRZEJDŹ DO KOSZYKA\" />\r\n                </Link>\r\n            </footer>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SubCart;","import React from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faShoppingCart } from '@fortawesome/free-solid-svg-icons';\r\nimport './Cart.scss';\r\n\r\nimport { connect } from 'react-redux';\r\nimport SubCart from '../../SubCart';\r\n\r\nfunction Cart({ cart }) {\r\n\r\n    const style = {\r\n        display: cart.length > 0 ? 'flex' : 'none'\r\n    };\r\n\r\n    return(\r\n        <div className=\"cart\">\r\n            <FontAwesomeIcon icon={faShoppingCart} className=\"cart__icon\" />\r\n            <span className=\"cart__counter\" style={style}>{cart.length}</span>\r\n            <SubCart data={cart} />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cart: state.shop.cart\r\n});\r\n\r\nexport default connect(mapStateToProps)(Cart);","export default __webpack_public_path__ + \"static/media/logo.70393905.png\";","import React from 'react';\r\nimport Logo from '../Logo';\r\nimport Cart from '../containers/Cart';\r\nimport './Header.scss';\r\nimport logo from '../../images/logo.png';\r\n\r\nconst Header = () => {\r\n    return(\r\n        <header className=\"header\">\r\n            <div className=\"header__container\">\r\n                <Logo\r\n                    image={logo}\r\n                    text=\"Shop.pl\"\r\n                />\r\n                <Cart />\r\n            </div>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;","import axios from 'axios';\r\n\r\nexport const api = axios.create({\r\n\tbaseURL: process.env.REACT_APP_PROXY_API || 'http://localhost:3001/',\r\n});\r\n\r\nexport const endpoints = {\r\n\tbooks: 'api/book/',\r\n};\r\n","import { api, endpoints } from '../api';\r\n\r\nconst FETCH_BOOKS_REQUESTED = 'FETCH_BOOKS_REQUESTED';\r\nconst FETCH_BOOKS_SUCCEEDED = 'FETCH_BOOKS_SUCCEEDED';\r\nconst FETCH_BOOKS_FAILED = 'FETCH_BOOKS_FAILED';\r\n\r\nconst ADD_TO_CART = 'ADD_TO_CART';\r\nconst REMOVE_FROM_CART = 'REMOVE_FROM_CART';\r\nconst ADJUST_QTY = 'ADJUST_QTY';\r\n\r\nexport const fetchBooks = () => {\r\n\treturn (dispatch) => {\r\n\t\tdispatch(fetchRequested());\r\n\t\tapi.get(endpoints.books)\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\tdispatch(fetchSucceeded(data.data));\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tdispatch(fetchFailed(error));\r\n\t\t\t});\r\n\t};\r\n};\r\n\r\nexport const fetchRequested = () => ({\r\n\ttype: FETCH_BOOKS_REQUESTED,\r\n});\r\n\r\nexport const fetchFailed = () => ({\r\n\ttype: FETCH_BOOKS_FAILED,\r\n});\r\n\r\nexport const fetchSucceeded = (data) => ({\r\n\ttype: FETCH_BOOKS_SUCCEEDED,\r\n\tpayload: data,\r\n});\r\n\r\nexport const addToCart = (itemID) => ({\r\n\ttype: ADD_TO_CART,\r\n\tpayload: {\r\n\t\tid: itemID,\r\n\t},\r\n});\r\n\r\nexport const removeFromCart = (itemID) => ({\r\n\ttype: REMOVE_FROM_CART,\r\n\tpayload: {\r\n\t\tid: itemID,\r\n\t},\r\n});\r\n\r\nexport const adjustQty = (itemID, value) => ({\r\n\ttype: ADJUST_QTY,\r\n\tpayload: {\r\n\t\tid: itemID,\r\n\t\tqty: value,\r\n\t},\r\n});\r\n\r\nconst INITIAL_STATE = {\r\n\tbooks: [],\r\n\tcart: [],\r\n\tisLoading: false,\r\n\tisError: false,\r\n};\r\n\r\nexport const shopReducer = (state = INITIAL_STATE, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase FETCH_BOOKS_REQUESTED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t\tisError: false,\r\n\t\t\t};\r\n\t\tcase FETCH_BOOKS_SUCCEEDED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisError: false,\r\n\t\t\t\tbooks: action.payload,\r\n\t\t\t};\r\n\t\tcase FETCH_BOOKS_FAILED:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tisError: true,\r\n\t\t\t};\r\n\t\tcase ADD_TO_CART:\r\n\t\t\tconst item = state.books.find(\r\n\t\t\t\t(book) => book.id === action.payload.id\r\n\t\t\t);\r\n\t\t\tconst inCart = state.cart.find((item) =>\r\n\t\t\t\titem.id === action.payload.id ? true : false\r\n\t\t\t);\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcart: inCart\r\n\t\t\t\t\t? state.cart.map((item) =>\r\n\t\t\t\t\t\t\titem.id === action.payload.id\r\n\t\t\t\t\t\t\t\t? { ...item, qty: item.qty + 1 }\r\n\t\t\t\t\t\t\t\t: item\r\n\t\t\t\t\t  )\r\n\t\t\t\t\t: [...state.cart, { ...item, qty: 1 }],\r\n\t\t\t};\r\n\t\tcase REMOVE_FROM_CART:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcart: state.cart.filter(\r\n\t\t\t\t\t(item) => item.id !== action.payload.id\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tcase ADJUST_QTY:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcart: state.cart.map((item) =>\r\n\t\t\t\t\titem.id === action.payload.id\r\n\t\t\t\t\t\t? { ...item, qty: action.payload.qty }\r\n\t\t\t\t\t\t: item\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default shopReducer;\r\n","import React from 'react';\r\nimport './Book.scss';\r\nimport PropTypes from 'prop-types';\r\nimport Button from '../Button';\r\n\r\nimport { connect } from 'react-redux';\r\nimport { addToCart } from '../../redux/redux';\r\n\r\nconst Book = ({ data, addToCart }) => {\r\n\r\n    const convertedPrice = (price) => {\r\n        const newPrice = price/100;\r\n        return newPrice.toFixed(2);\r\n    };\r\n\r\n    return(\r\n        <div className=\"book\">\r\n            <div className=\"book__img-container\">\r\n                <img className=\"book__img\" src={data.cover_url} alt=\"single book\" />\r\n            </div>\r\n            <p className=\"book__pages\">Liczba stron: {data.pages}</p>\r\n            <h2 className=\"book__title\">{data.title}</h2>\r\n            <p className=\"book__author\">{data.author}</p>\r\n            <div className=\"book__price-container\">\r\n                <p className=\"book__price\">{convertedPrice(data.price)} {data.currency}</p>\r\n            </div>\r\n            <Button onClick={() => addToCart(data.id)} label=\"DODAJ DO KOSZYKA\" />\r\n        </div>\r\n    );\r\n};\r\n\r\nBook.propTypes = {\r\n    data: PropTypes.shape ({\r\n      id: PropTypes.number.isRequired,\r\n      pages: PropTypes.number.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n      author: PropTypes.string.isRequired,\r\n      price: PropTypes.number.isRequired,\r\n      currency: PropTypes.string.isRequired\r\n    })\r\n  };\r\n\r\n  const mapDispatchToProps = {\r\n    addToCart\r\n};\r\n\r\n  export default connect(null, mapDispatchToProps)(Book);","import React from 'react';\r\nimport Book from '../Book';\r\nimport './BooksList.scss';\r\n\r\nconst BooksList = ({ data }) => {\r\n\r\n    return(\r\n        <section className=\"books-list\">\r\n            {data.map(book => (\r\n                <Book\r\n                    key={book.id}\r\n                    data={book}\r\n                />\r\n            ))}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default BooksList;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchBooks } from '../../../redux/redux';\r\nimport './Books.scss';\r\nimport BooksList from '../../BooksList';\r\n\r\nconst Books = (props) => {\r\n    const {\r\n        fetchBooks,\r\n        books,\r\n        isLoading,\r\n        isError\r\n    } = props;\r\n\r\n    useEffect(() => {\r\n        fetchBooks();\r\n    }, [fetchBooks]);\r\n\r\n    return(\r\n        <section className=\"books-section\">\r\n           <BooksList\r\n                data={books}\r\n           />\r\n           {isLoading && <p className=\"books-section__loading\">Loading...</p>}\r\n           {isError && <p className=\"books-section__error\">An error has occurred</p>}\r\n        </section>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        books: state.shop.books,\r\n        isLoading: state.shop.isLoading,\r\n        isError: state.shop.isError\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    fetchBooks\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Books);","import React from 'react';\r\nimport './CartSummaryItem.scss';\r\nimport Button from '../../components/Button';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { removeFromCart } from '../../redux/redux';\r\n\r\nconst CartSummaryItem = ({ item, removeFromCart }) => {\r\n\r\n    const MAX_TEXT_LENGTH = 20;\r\n\r\n    const convertedPrice = (price) => {\r\n        const newPrice = price/100;\r\n        return newPrice.toFixed(2);\r\n    };\r\n\r\n    return(\r\n        <div className=\"cart-summary-item\">\r\n            <img className=\"cart-summary-item__img\" src={item.cover_url} alt=\"book cover\" />\r\n            <h4 className=\"cart-summary-item__title\">\r\n                {`${item.title.slice(0, MAX_TEXT_LENGTH)}...`}\r\n            </h4>\r\n            <p className=\"cart-summary-item__quantity\">x {item.qty} </p>\r\n            <p className=\"cart-summary-item__price\">{convertedPrice(item.price)} {item.currency}</p>\r\n            <Button label=\"USUŃ\" onClick={() => removeFromCart(item.id)} />\r\n        </div>\r\n    );\r\n};\r\n\r\nCartSummaryItem.propTypes = {\r\n    item: PropTypes.shape ({\r\n      id: PropTypes.number.isRequired,\r\n      title: PropTypes.string.isRequired,\r\n      price: PropTypes.number.isRequired,\r\n      currency: PropTypes.string.isRequired\r\n    })\r\n  };\r\n\r\nconst mapDispatchToProps = {\r\n    removeFromCart\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    removeFromCart\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartSummaryItem);","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport './CartSummary.scss';\r\nimport CartSummaryItem from '../../components/CartSummaryItem';\r\nimport Button from '../../components/Button';\r\n\r\nconst CartSummary = ({ cart }) => {\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n    const [isCartEmpty, setIsCartEmpty] = useState(false);\r\n\r\n    const convertedPrice = (price) => {\r\n        const newPrice = price/100;\r\n        return newPrice.toFixed(2);\r\n    };\r\n\r\n    useEffect(() => {\r\n        let price = 0;\r\n        cart.map(item => {\r\n            return price = price + item.qty * item.price;\r\n        });\r\n        setTotalPrice(price);\r\n\r\n        cart.length > 0 ? setIsCartEmpty(true) : setIsCartEmpty(false);\r\n\r\n    }, [cart, totalPrice, setTotalPrice]);\r\n\r\n    return(\r\n        <div className=\"cart-summary\">\r\n            <header className=\"cart-summary__header\">\r\n                <p className=\"cart-summary__title\">Produkty</p>\r\n            </header>\r\n            <main className=\"cart-summary__products\">\r\n                {cart.length === 0 && <p className=\"cart-summary__info\">Koszyk jest posty</p>}\r\n                {cart.map(item => <CartSummaryItem key={item.id} item={item} />)}\r\n            </main>\r\n            <footer className=\"cart-summary__footer\">\r\n                <Link to=\"/\">\r\n                    <Button label=\"WRÓĆ DO SKLEPU\" />\r\n                </Link>\r\n                <p className=\"cart-summary__total\">SUMA: <span className=\"cart-summary__total-price\">{convertedPrice(totalPrice)}</span> PLN</p>\r\n                <Link to=\"/summary\">\r\n                    { isCartEmpty && <Button label=\"DALEJ\" />}\r\n                </Link>\r\n            </footer>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cart: state.shop.cart\r\n});\r\n\r\nexport default connect(mapStateToProps)(CartSummary);","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useForm } from 'react-hook-form';\r\nimport { Link } from 'react-router-dom';\r\nimport Button from '../Button';\r\nimport './Form.scss';\r\n\r\nconst Form = ({ cart }) => {\r\n    const {register, handleSubmit, errors } = useForm();\r\n    const [successInfo, setSuccessInfo] = useState(false);\r\n\r\n    const onSubmit = ({ first_name, last_name, city, zip_code }, event) => {\r\n        axios.post('http://localhost:3001/api/order/', {\r\n            order: cart.map(item => {\r\n                return {id: item.id, quantity: item.qty};\r\n            }),\r\n            first_name,\r\n            last_name,\r\n            city,\r\n            zip_code\r\n        })\r\n        .then(response => {\r\n            console.log(response);\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        });\r\n        event.target.reset();\r\n        setSuccessInfo(true);\r\n    };\r\n\r\n    return(\r\n        <form className=\"form\" onSubmit={handleSubmit(onSubmit)}>\r\n            {successInfo && <p className=\"form__info\">Produkt został zamówiony</p>}\r\n            <div className=\"form__group\">\r\n                <label className=\"form__label\" htmlFor=\"first_name\">Imię:</label>\r\n                <input className=\"form__input\" type=\"text\" id=\"first_name\" name=\"first_name\" ref={register({ required: true })} />\r\n                {errors.first_name && <p className=\"form__error\">Podaj imię</p>}\r\n            </div>\r\n            <div className=\"form__group\">\r\n                <label className=\"form__label\" htmlFor=\"last_name\">Nazwisko:</label>\r\n                <input className=\"form__input\" type=\"text\" id=\"last_name\" name=\"last_name\" ref={register({ required: true })} />\r\n                {errors.last_name && <p className=\"form__error\">Podaj nazwisko</p>}\r\n            </div>\r\n            <div className=\"form__group\">\r\n                <label className=\"form__label\" htmlFor=\"city\">Miejscowość</label>\r\n                <input className=\"form__input\" type=\"text\" id=\"city\" name=\"city\" ref={register({ required: true })} />\r\n                {errors.city && <p className=\"form__error\">Podaj miejscowość</p>}\r\n            </div>\r\n            <div className=\"form__group\">\r\n                <label className=\"form__label\" htmlFor=\"zip_code\">Kod pocztowy</label>\r\n                <input className=\"form__input\" type=\"text\" id=\"zip_code\" name=\"zip_code\" pattern=\"([0-9]{2})(-[0-9]{3})\" ref={register({ required: true })} />\r\n                {errors.zip_code && <p className=\"form__error\">Podaj kod pocztowy</p>}\r\n            </div>\r\n            <div className=\"form__group form__group--flex\">\r\n                <Link to=\"/cart\">\r\n                    <Button label=\"WRÓC DO KOSZYKA\" />\r\n                </Link>\r\n                <Button label=\"ZAMAWIAM i PŁACĘ\" type=\"submit\" />\r\n            </div>\r\n        </form>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cart: state.shop.cart\r\n});\r\n\r\nexport default connect(mapStateToProps)(Form);","import React, { useEffect, useState } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport './Summary.scss';\r\nimport Form from '../../components/Form';\r\n\r\nconst Summary = ({ cart }) => {\r\n    const [totalPrice, setTotalPrice] = useState(0);\r\n\r\n    const convertedPrice = (price) => {\r\n        const newPrice = price/100;\r\n        return newPrice.toFixed(2);\r\n    };\r\n\r\n    useEffect(() => {\r\n        let price = 0;\r\n        cart.map(item => {\r\n            return price = price + item.qty * item.price;\r\n        });\r\n        setTotalPrice(price);\r\n    }, [cart, totalPrice, setTotalPrice]);\r\n\r\n    return(\r\n        <section className=\"summary\">\r\n            <div className=\"summary__total\">\r\n                <h3 className=\"summary__total-price\">Wartość zamówenia: {convertedPrice(totalPrice)} PLN</h3>\r\n            </div>\r\n            <Form />\r\n        </section>\r\n    );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    cart: state.shop.cart\r\n});\r\n\r\nexport default connect(mapStateToProps)(Summary);","import React from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route\r\n} from 'react-router-dom';\r\nimport Header from './components/Header';\r\nimport Books from './components/containers/Books';\r\nimport CartSummary from './pages/CartSummary';\r\nimport Summary from './pages/Summary';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <Router>\r\n        <Header />\r\n          <Switch>\r\n            <Route path=\"/\" exact>\r\n              <Books />\r\n            </Route>\r\n            <Route path=\"/cart\">\r\n              <CartSummary />\r\n            </Route>\r\n            <Route path=\"/summary\">\r\n              <Summary />\r\n            </Route>\r\n          </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { combineReducers } from 'redux';\r\nimport shopReducer from './redux';\r\n\r\nconst rootReducer = combineReducers({\r\n    shop: shopReducer\r\n});\r\n\r\nexport default rootReducer;","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport rootReducer from './rootReducer';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst enhancer = composeEnhancers(applyMiddleware(thunk));\r\n\r\nconst store = createStore(rootReducer, enhancer);\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nimport { Provider } from 'react-redux';\r\nimport store from './redux/store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nreportWebVitals();"],"sourceRoot":""}